{"version":3,"sources":["webpack:///./src/views/Dashboard/Orders.vue","webpack:///./src/components/OrderModal.vue","webpack:///./src/components/OrderModal.vue?25c1","webpack:///./src/views/Dashboard/Orders.vue?7607","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["class","scope","orders","item","index","key","id","user","name","email","tel","address","is_paid","showDate","create_at","tempOrder","data-bs-toggle","data-bs-target","delOrder","order","ref","tabindex","aria-labelledby","aria-hidden","type","data-bs-dismiss","aria-label","colspan","products","i","product","title","qty","final_total","total","data","props","mounted","this","modal","$refs","keyboard","backdrop","methods","openModal","show","hideModal","hide","time","day","Date","year","getFullYear","month","getMonth","date","getDate","__exports__","components","OrderModal","getOrders","api","$http","get","then","res","catch","err","alert","url","delete","message","created","render","DESCRIPTORS","FUNCTION_NAME_EXISTS","EXISTS","uncurryThis","defineProperty","f","FunctionPrototype","Function","prototype","functionToString","toString","nameRE","regExpExec","exec","NAME","configurable","error"],"mappings":"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","file":"js/chunk-712d24d5.8f7288a3.js","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row\">\n      <table class=\"table table-hover\">\n        <thead>\n          <tr>\n            <th scope=\"col\">#</th>\n            <th scope=\"col\">顧客名稱</th>\n            <th scope=\"col\">顧客信箱</th>\n            <th scope=\"col\">顧客電話</th>\n            <th scope=\"col\">顧客地址</th>\n            <th scope=\"col\">訂單日期</th>\n            <th scope=\"col\">狀態</th>\n            <th scope=\"col\"></th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"(item, index) in orders\" :key=\"item.id\">\n            <th scope=\"row\">{{ index + 1 }}</th>\n            <td>{{ item.user.name }}</td>\n            <td>{{ item.user.email }}</td>\n            <td>{{ item.user.tel }}</td>\n            <td>{{ item.user.address }}</td>\n            <td>{{ item.is_paid?'已付款':'未付款' }}</td>\n            <td>{{ showDate(item.create_at * 1000) }}</td>\n            <td>\n              <button class=\"btn btn-secondary\" @click=\"tempOrder = item\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\">詳細資訊</button>\n              <button class=\"btn btn-danger\" @click=\"delOrder(item.id)\">刪除</button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n    <OrderModal :order=\"tempOrder\"></OrderModal>\n  </div>\n</template>\n<script>\nimport OrderModal from '@/components/OrderModal.vue'\n\nexport default {\n  data () {\n    return {\n      orders: [],\n      tempOrder: {}\n    }\n  },\n  components: { OrderModal },\n  methods: {\n    getOrders () {\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_API_PATH}/admin/orders`\n      this.$http\n        .get(api)\n        .then((res) => {\n          this.orders = res.data.orders\n        })\n        .catch((err) => {\n          alert(err)\n        })\n    },\n    delOrder (id) {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_API_PATH}/admin/order/${id}`\n      this.$http\n        .delete(url)\n        .then((res) => {\n          alert(res.data.message)\n          this.getOrders()\n        })\n        .catch(() => {\n          alert('刪除失敗')\n        })\n    },\n    showDate (time) {\n      const day = new Date(time)\n      const year = day.getFullYear()\n      const month = day.getMonth() + 1\n      const date = day.getDate()\n      return `${year}/${month}/${date}`\n    }\n  },\n  created () {\n    this.getOrders()\n  }\n}\n</script>\n","<template>\n  <div\n    ref=\"modal\"\n    class=\"modal fade\"\n    id=\"exampleModal\"\n    tabindex=\"-1\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n  >\n    <div class=\"modal-dialog\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">訂單詳細資訊</h5>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">\n          <h3>顧客資料</h3>\n          <table class=\"table table-sm\" v-if=\"order.id\">\n            <tbody>\n              <tr>\n                <td>姓名</td>\n                <td>{{ order.user.name }}</td>\n              </tr>\n              <tr>\n                <td>地址</td>\n                <td>{{ order.user.address }}</td>\n              </tr>\n              <tr>\n                <td>信箱</td>\n                <td>{{ order.user.email }}</td>\n              </tr>\n              <tr>\n                <td>電話</td>\n                <td>{{ order.user.tel }}</td>\n              </tr>\n            </tbody>\n          </table>\n          <h3>訂單資料</h3>\n          <table class=\"table table-sm\" v-if=\"order.id\">\n            <tbody>\n              <tr>\n                <td>訂單日期</td>\n                <td colspan=\"2\">{{ showDate(order.create_at) }}</td>\n              </tr>\n              <tr colspan=\"2\">\n                <td>訂單狀態</td>\n                <td colspan=\"2\">{{ order.is_paid ? \"已付款\" : \"未付款\" }}</td>\n              </tr>\n              <tr>\n                <td colspan=\"3\" class=\"fw-bold\">商品</td>\n              </tr>\n              <tr v-for=\"(item, i) in order.products\" :key=\"i\">\n                  <td>{{ item.product.title }}</td>\n                  <td>*{{ item.qty }}</td>\n                  <td>${{ item.final_total }}</td>\n              </tr>\n            </tbody>\n            <tfoot>\n              <tr>\n                <td colspan=\"3\" class=\"text-end\">總金額：${{ order.total }}</td>\n              </tr>\n            </tfoot>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport Modal from 'bootstrap/js/dist/modal'\n\nexport default {\n  data () {\n    return {}\n  },\n  props: ['order'],\n  mounted () {\n    this.modal = new Modal(this.$refs.modal, {\n      keyboard: false,\n      backdrop: 'static'\n    })\n  },\n  methods: {\n    openModal () {\n      this.modal.show()\n    },\n    hideModal () {\n      this.modal.hide()\n    },\n    showDate (time) {\n      const day = new Date(time * 1000)\n      const year = day.getFullYear()\n      const month = day.getMonth() + 1\n      const date = day.getDate()\n      return `${year}/${month}/${date}`\n    }\n  }\n}\n</script>\n","import { render } from \"./OrderModal.vue?vue&type=template&id=4f6836e4\"\nimport script from \"./OrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./OrderModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/caixinyu/Vue/live-training/vue3-training-w6-vuecli/new-project/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Orders.vue?vue&type=template&id=1d489824\"\nimport script from \"./Orders.vue?vue&type=script&lang=js\"\nexport * from \"./Orders.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/caixinyu/Vue/live-training/vue3-training-w6-vuecli/new-project/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","var DESCRIPTORS = require('../internals/descriptors');\nvar FUNCTION_NAME_EXISTS = require('../internals/function-name').EXISTS;\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar functionToString = uncurryThis(FunctionPrototype.toString);\nvar nameRE = /function\\b(?:\\s|\\/\\*[\\S\\s]*?\\*\\/|\\/\\/[^\\n\\r]*[\\n\\r]+)*([^\\s(/]*)/;\nvar regExpExec = uncurryThis(nameRE.exec);\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !FUNCTION_NAME_EXISTS) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return regExpExec(nameRE, functionToString(this))[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}