(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-712d24d5"],{"67e3":function(t,e,c){"use strict";c.r(e);c("b0c0");var l=c("7a23"),n={class:"container"},o={class:"row"},a={class:"table table-hover"},r=Object(l["g"])("thead",null,[Object(l["g"])("tr",null,[Object(l["g"])("th",{scope:"col"},"#"),Object(l["g"])("th",{scope:"col"},"顧客名稱"),Object(l["g"])("th",{scope:"col"},"顧客信箱"),Object(l["g"])("th",{scope:"col"},"顧客電話"),Object(l["g"])("th",{scope:"col"},"顧客地址"),Object(l["g"])("th",{scope:"col"},"訂單日期"),Object(l["g"])("th",{scope:"col"},"狀態"),Object(l["g"])("th",{scope:"col"})])],-1),d={scope:"row"},b=["onClick"],s=["onClick"];function O(t,e,c,O,u,j){var i=Object(l["C"])("OrderModal");return Object(l["w"])(),Object(l["f"])("div",n,[Object(l["g"])("div",o,[Object(l["g"])("table",a,[r,Object(l["g"])("tbody",null,[(Object(l["w"])(!0),Object(l["f"])(l["a"],null,Object(l["B"])(u.orders,(function(t,e){return Object(l["w"])(),Object(l["f"])("tr",{key:t.id},[Object(l["g"])("th",d,Object(l["F"])(e+1),1),Object(l["g"])("td",null,Object(l["F"])(t.user.name),1),Object(l["g"])("td",null,Object(l["F"])(t.user.email),1),Object(l["g"])("td",null,Object(l["F"])(t.user.tel),1),Object(l["g"])("td",null,Object(l["F"])(t.user.address),1),Object(l["g"])("td",null,Object(l["F"])(t.is_paid?"已付款":"未付款"),1),Object(l["g"])("td",null,Object(l["F"])(j.showDate(1e3*t.create_at)),1),Object(l["g"])("td",null,[Object(l["g"])("button",{class:"btn btn-secondary",onClick:function(e){return u.tempOrder=t},"data-bs-toggle":"modal","data-bs-target":"#exampleModal"},"詳細資訊",8,b),Object(l["g"])("button",{class:"btn btn-danger",onClick:function(e){return j.delOrder(t.id)}},"刪除",8,s)])])})),128))])])]),Object(l["i"])(i,{order:u.tempOrder},null,8,["order"])])}c("99af");var u={ref:"modal",class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},j={class:"modal-dialog"},i={class:"modal-content"},g=Object(l["g"])("div",{class:"modal-header"},[Object(l["g"])("h5",{class:"modal-title",id:"exampleModalLabel"},"訂單詳細資訊"),Object(l["g"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),h={class:"modal-body"},p=Object(l["g"])("h3",null,"顧客資料",-1),f={key:0,class:"table table-sm"},m=Object(l["g"])("td",null,"姓名",-1),w=Object(l["g"])("td",null,"地址",-1),v=Object(l["g"])("td",null,"信箱",-1),F=Object(l["g"])("td",null,"電話",-1),y=Object(l["g"])("h3",null,"訂單資料",-1),k={key:1,class:"table table-sm"},M=Object(l["g"])("td",null,"訂單日期",-1),x={colspan:"2"},D={colspan:"2"},C=Object(l["g"])("td",null,"訂單狀態",-1),$={colspan:"2"},_=Object(l["g"])("tr",null,[Object(l["g"])("td",{colspan:"3",class:"fw-bold"},"商品")],-1),S={colspan:"3",class:"text-end"};function B(t,e,c,n,o,a){return Object(l["w"])(),Object(l["f"])("div",u,[Object(l["g"])("div",j,[Object(l["g"])("div",i,[g,Object(l["g"])("div",h,[p,c.order.id?(Object(l["w"])(),Object(l["f"])("table",f,[Object(l["g"])("tbody",null,[Object(l["g"])("tr",null,[m,Object(l["g"])("td",null,Object(l["F"])(c.order.user.name),1)]),Object(l["g"])("tr",null,[w,Object(l["g"])("td",null,Object(l["F"])(c.order.user.address),1)]),Object(l["g"])("tr",null,[v,Object(l["g"])("td",null,Object(l["F"])(c.order.user.email),1)]),Object(l["g"])("tr",null,[F,Object(l["g"])("td",null,Object(l["F"])(c.order.user.tel),1)])])])):Object(l["e"])("",!0),y,c.order.id?(Object(l["w"])(),Object(l["f"])("table",k,[Object(l["g"])("tbody",null,[Object(l["g"])("tr",null,[M,Object(l["g"])("td",x,Object(l["F"])(a.showDate(c.order.create_at)),1)]),Object(l["g"])("tr",D,[C,Object(l["g"])("td",$,Object(l["F"])(c.order.is_paid?"已付款":"未付款"),1)]),_,(Object(l["w"])(!0),Object(l["f"])(l["a"],null,Object(l["B"])(c.order.products,(function(t,e){return Object(l["w"])(),Object(l["f"])("tr",{key:e},[Object(l["g"])("td",null,Object(l["F"])(t.product.title),1),Object(l["g"])("td",null,"*"+Object(l["F"])(t.qty),1),Object(l["g"])("td",null,"$"+Object(l["F"])(t.final_total),1)])})),128))]),Object(l["g"])("tfoot",null,[Object(l["g"])("tr",null,[Object(l["g"])("td",S,"總金額：$"+Object(l["F"])(c.order.total),1)])])])):Object(l["e"])("",!0)])])])],512)}var J=c("7c2b"),L=c.n(J),Y={data:function(){return{}},props:["order"],mounted:function(){this.modal=new L.a(this.$refs.modal,{keyboard:!1,backdrop:"static"})},methods:{openModal:function(){this.modal.show()},hideModal:function(){this.modal.hide()},showDate:function(t){var e=new Date(1e3*t),c=e.getFullYear(),l=e.getMonth()+1,n=e.getDate();return"".concat(c,"/").concat(l,"/").concat(n)}}},q=c("6b0d"),E=c.n(q);const I=E()(Y,[["render",B]]);var T=I,X={data:function(){return{orders:[],tempOrder:{}}},components:{OrderModal:T},methods:{getOrders:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("record-product","/admin/orders");this.$http.get(e).then((function(e){t.orders=e.data.orders})).catch((function(t){alert(t)}))},delOrder:function(t){var e=this,c="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("record-product","/admin/order/").concat(t);this.$http.delete(c).then((function(t){alert(t.data.message),e.getOrders()})).catch((function(){alert("刪除失敗")}))},showDate:function(t){var e=new Date(t),c=e.getFullYear(),l=e.getMonth()+1,n=e.getDate();return"".concat(c,"/").concat(l,"/").concat(n)}},created:function(){this.getOrders()}};const z=E()(X,[["render",O]]);e["default"]=z},b0c0:function(t,e,c){var l=c("83ab"),n=c("5e77").EXISTS,o=c("e330"),a=c("9bf2").f,r=Function.prototype,d=o(r.toString),b=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,s=o(b.exec),O="name";l&&!n&&a(r,O,{configurable:!0,get:function(){try{return s(b,d(this))[1]}catch(t){return""}}})}}]);
//# sourceMappingURL=chunk-712d24d5.8f7288a3.js.map